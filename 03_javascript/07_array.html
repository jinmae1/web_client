<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>array</title>
    </head>
    <body>
        <h1>array</h1>
        <button onclick="test1();">배열생성</button>
        <button onclick="test2();">유사배열</button>

        <script>
            /**
             * 타입제한, 길이도 고정되지 않아 java collection list와 비슷함
             *
             * 배열 생성
             * 1. [] literal
             * 2. new Array(): new 연산자
             */
            function test1() {
                const a = [];
                const b = new Array(); // 속도 느림

                a[0] = "안";
                a[1] = "녕";
                a[2] = 123;

                for (let i = 0; i < a.length; i++) {
                    const element = a[i];
                    console.log(element);
                }

                console.log(a);
                console.log(b);

                // 초기화
                const c = [1, 2, 3];
                const d = new Array("a", "b", "c");
                console.log(c);
                console.log(d);

                HTMLDocument.prototype.e = document.getElementById;
                console.log(document.e("bbb"));
            }

            /**
             * 유사배열
             * - Array 객체를 상속하지 않아 Array API를 사용할 수 없는 배열
             * - document.getElements... 리턴타입
             * - document.querySelectorAll 리턴타입
             *
             * 유사배열 변환
             * - Array.from(유사배열) returns 진짜배열;
             */

            function test2() {
                const a = [1, 2, 3]; // Array(0)
                const b = document.querySelectorAll("button"); // 유사배열 이 경우 NodeList
                console.log(a, typeof a);
                console.log(b, typeof b);

                console.log(a.join("-"));
                // console.log(b.join("-")); // 실행 불가. 이렇듯 Array객체의 유용한 메소드들을 이용할 수 없다.

                const _b = Array.from(b);
                console.log(_b);
                console.log(_b.join("-"));
            }
        </script>

        <h2>Array Methods</h2>
        <button onclick="test3();">indexOf</button>
        <button onclick="test4();">concat</button>
        <button onclick="test5();">reverse</button>
        <button onclick="test6();">sort</button>
        <button onclick="test7();">push | pop | unshift | shift</button>
        <button onclick="test8();">slice</button>
        <button onclick="test9();">splice</button>
        <button onclick="test10();">forEach</button>

        <script>
            /**
             * indexOf
             * 특정요소의 index를 반환
             * 존재하지 않는 경우 -1을 반환
             */

            function test3() {
                const names = ["홍길동", "고길동", "마길동"];
                console.log(names.indexOf("고길동"));
                console.log(names.indexOf("제갈길동"));
            }

            /**
             * concat
             * 두 배열의 요소를 하나로 합쳐 배열로 반환
             * 항상 실제 원본 배열의 변경여부를 체크하기
             */
            function test4() {
                const arr1 = [1, 2, 3];
                const arr2 = ["가", "나", "다"];
                const arr3 = arr1.concat(arr2);
                console.log(arr3);

                const arr4 = new Array(arr1, arr2);
                console.log(arr4);

                // es6 전개연산자: concat과 비슷
                const arr5 = [...arr1, ...arr2];
                console.log(arr5);
            }

            /**
             * 요소의 순서를 거꾸로 배치한 배열을 리턴
             * 원본도 함께 변함
             */
            function test5() {
                const arr = [2, 5, 3, 1, 4];
                console.log(arr.reverse());
                console.log(arr);
            }

            /**
             * sort: 배열의 요소를 기본 오름차순으로 정렬한다.
             * 문자의 유니코드 값 기준(사전 등재순)
             */
            function test6() {
                const arr = [1, 7, 8, 12, 10, 100, "11"];
                console.log(arr);
                console.log(arr.sort());

                // 숫자크기 오름차순 저열
                // 음수(일 때, 자리교환) | 0 | 양수를 리턴하는 정렬기준 함수 전달(callback함수)
                arr.sort(function (a, b) {
                    // return -a + b;
                    return a - b;
                });
                console.log(arr);

                arr.sort((a, b) => b - a);
                console.log("=====");
                console.log(arr);
                console.log("=====");

                // 문자열 내림차순
                const names = ["홍진영", "다시마", "고길동", "홍길동"];
                names.sort((a, b) => (a <= b ? -1 : 1));
                // 같은 값인 경우에 0이랑 부등호의 등호에 대해서도 한번 고민해보기
                console.log(names);
            }
        </script>
    </body>
</html>
